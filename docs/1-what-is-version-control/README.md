# 1.バージョン管理とは

## はじめに

バージョン管理システムとは、コードや作っているゲームなどにおいて、ファイルの変更履歴を管理するためのシステムです。バージョン管理システムがどうして必要なのか、そもそもバージョン管理とは何かを、例をあげて説明して行きます。

---

ある時あなたは複数人でゲームを開発することになりました。どんなゲームでもよいのですが、ここではいわゆる格ゲーを作ることになったとしましょう。

あなたと開発メンバーは頑張って開発を進めて行きました。そうしてなんとかゲームが完成しました。その内容はこんな感じです。

* キャラクター:3人
* 対戦形式:一本勝負のみ

確かに完成はしましたが、ちょっと味気無く感じたあなたとメンバーは、もう少し機能を追加することにしました。しかし、前の開発の時点で締切ギリギリで頑張っていたあなたが書いたコードは自分でもよむことができないぐらいめちゃくちゃになっていました。悲しいことですが、開発ではよくあることです。

このままコードを追加していくと、どこでバグが起きるかわからないと思ったあなたは、とりあえず今あるゲームとコードをどこかに保存しようと考えました。そうすれば、もし失敗してももう一度その保存先から取り戻せばよいからです。このように、ファイルの変更を管理するのが **バージョン管理** です。

このとき、どのような方法が考えられるでしょうか。「フォルダをまるごとコピーして、日付名を下につけて別の場所に保存する」という形が考えつきますね。たとえば、次のようになります。

```
作業フォルダ/
ゲーム-2016-8-22/
```

とりあえずこうしておけば、2016年の8月22日のコードを取り戻すことはできるわけです。

しかし、この管理方法にはある問題があります。また次の日、あなたはキャラクターを追加することに成功しました。その日のコードを保存することにしました。

```
作業フォルダ/
ゲーム-2016-8-22/
ゲーム-2016-8-23/
```

すでに少し分かりづらいですね。毎日新しい機能を開発をして、コードを保存していくことを考えると、一週間後にはこんな感じのフォルダーになってしまうことが予想されます。

```
作業フォルダ/
ゲーム-2016-8-22/
ゲーム-2016-8-23/
ゲーム-2016-8-24/
ゲーム-2016-8-25/
ゲーム-2016-8-26/
ゲーム-2016-8-27/
ゲーム-2016-8-28/
ゲーム-2016-8-29/
```

つらいですね。この状態ではどの日にどういう機能を追加したのかを把握することが難しいです。「この機能はやっぱりいらなかった、削除しよう」というときにその機能だけを消すためには前のコードをそれぞれ読んで、どの時点で実装したのかを確認する必要があります。コードが複雑であると、たとえば「26日時点でのコード」と「27日時点でのコード」の違いを見る必要があります。2つのコードを見比べて違いを発見するのは、相当につらい作業です。

さらにつらいのが、複数人での開発のときです。あなたともう一人のメンバーが、それぞれ「29日時点でのコード」から開発をすることにしました。

あなたはキャラクターを一人追加しました。もう一人はアイテムを追加していきました。さて、2つのコードをどう合わせましょうか。

```
作業フォルダ/
ゲーム-2016-8-22/
～
ゲーム-2016-8-29/
ゲーム-2016-8-30-A/
ゲーム-2016-8-30-B/
```

Aはあなたが書いたコード、Bはもう一人のメンバーの書いたコードだとします。この2つを統合する場合、2つのコードの変更点を考えて、互いに影響しないようにしながらコードをあわせる必要があります。
お互いが別のファイルでコードを追加しているのなら話はある程度簡単になるでしょう。しかし、これがたとえば同じファイルの同じ箇所を編集していたとしたら、どうすればよいのでしょうか……。

このような例が現実にいくつもあり、多くの人間が泣きながら手動でコードを合わせて行きました。

---

このようにバージョン管理を手動でやることは苦しみしかなく、どうにかシステムに解決してもらいたいと普通の人は考えるでしょう。そこで必要とされるのがバージョン管理システムです。

次の章では、バージョン管理システムの中の1つであるGitについて学んでいきます。

## まとめ

* プログラムを開発していく上でバージョン管理は必要不可欠
* しかしそれを手動でやるのはつらい
* なのでバージョン管理システムが必要
